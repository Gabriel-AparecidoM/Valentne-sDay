<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feliz Dia dos Namorados! ❤️</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@300;400;700&display=swap');

        :root {
            --pink-light: #FFD1DC;
            --pink-medium: #FFB6C1;
            --pink-dark: #FF69B4;
            /* As variáveis de cor de coração foram removidas, conforme sua preferência */
            --button-color: #e91e63;
            --button-hover-color: #c2185b;
            --text-color: #333;
            --text-shadow-color: rgba(0, 0, 0, 0.1);
            --error-color: #e74c3c; /* Cor vermelha para mensagens de erro */
        }

        body {
            margin: 0;
            font-family: 'Quicksand', sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: flex-start; /* Altera de center para flex-start para não centralizar o conteúdo acima da viewport */
            align-items: center;
            min-height: 100vh; /* Mantido para garantir que o gradiente preencha a tela inicialmente */
            background: linear-gradient(135deg, var(--pink-light), var(--pink-medium), var(--pink-dark));
            background-size: 400% 400%;
            animation: gradientAnimation 15s ease infinite;
            color: var(--text-color);
            position: relative;
            z-index: 1;
            box-sizing: border-box;
            overflow-x: hidden; /* Evita barra de rolagem horizontal */
            overflow-y: auto; /* CORREÇÃO: Permite rolagem vertical */
            padding-top: 20px; /* Adiciona um pequeno padding no topo para o conteúdo não colar */
            padding-bottom: 20px; /* Adiciona um pequeno padding no final para o conteúdo não colar */
        }

        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* O código para a animação de Coração foi removido, conforme sua preferência */

        /* Slideshow de Fotos de Fundo */
        #background-slideshow {
            position: fixed; /* Mudar para fixed para que o slideshow fique parado no fundo enquanto a página rola */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 5;
            opacity: 0; /* Começa escondido, só aparece após o clique */
            transition: opacity 1s ease-in-out;
            overflow: hidden; /* Garante que as imagens não "vazem" ao animar */
        }

        .slideshow-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 2s ease-in-out, transform 8s linear;
            transform: scale(1.0);
            will-change: opacity, transform;
        }

        .slideshow-image.active {
            opacity: 1;
            transform: scale(1.1);
        }

        .content-wrapper {
            position: relative;
            z-index: 10; /* Garante que o conteúdo esteja acima de tudo */
            text-align: center;
            background: rgba(255, 255, 255, 0.7);
            padding: 30px 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-width: 90%;
            box-sizing: border-box;
            margin-bottom: 30px; /* Adiciona margem abaixo do content-wrapper */
        }

        h1 { /* Título principal: Feliz dia dos namorados meu amor!❤️ */
            font-family: 'Pacifico', cursive;
            font-size: 3em;
            color: var(--button-color);
            margin-bottom: 20px;
            opacity: 0;
            transform: translateY(-20px);
            animation: fadeInSlideDown 1s ease-out forwards;
            animation-delay: 0.5s;
            text-shadow: 2px 2px 4px var(--text-shadow-color);
        }

        p { /* Estilo geral para p, usado no parágrafo inicial */
            font-size: 1.2em;
            line-height: 1.6;
            margin-bottom: 30px;
            opacity: 0;
            transform: translateY(-20px);
            animation: fadeInSlideDown 1s ease-out forwards;
            animation-delay: 1s;
            color: #555;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        /* Estilo para o parágrafo longo que aparece NA SEGUNDA FASE (após o clique inicial) */
        p#second-screen-paragraph {
            font-size: 1.2em;
            line-height: 1.6;
            margin-bottom: 30px; /* Margem entre o parágrafo e o vídeo */
            color: #555;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            opacity: 0; /* Começa oculto */
            transform: translateY(-20px); /* Para animação de entrada */
            animation: fadeInSlideDown 1s ease-out forwards;
            animation-delay: 0.5s; /* Aparece mais rápido que o vídeo/botão */
        }


        @keyframes fadeInSlideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .action-button {
            background-color: var(--button-color);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transform: translateY(-20px);
            animation: fadeInSlideDown 1s ease-out forwards;
            animation-delay: 1.5s;
        }

        .action-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: all 0.6s ease;
            z-index: -1;
        }

        .action-button:hover {
            background-color: var(--button-hover-color);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .action-button:hover::before {
            left: 100%;
        }

        #after-first-click-content {
            margin-top: 30px;
            padding-bottom: 50px; /* Preenchimento inferior para permitir rolagem confortável */
            display: none; /* Inicia oculto */
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInSlideUp 1s ease-out forwards;
            text-align: center;
        }

        /* O estilo #final-message não é mais necessário, pois o parágrafo longo agora tem seu próprio ID */

        @keyframes fadeInSlideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Estilo para o vídeo de vocês */
        #our-video-player {
            width: 100%;
            max-width: 500px; /* Limite a largura para não ser muito grande em telas amplas */
            border-radius: 12px;
            height: auto; /* Mantém a proporção do vídeo */
            aspect-ratio: 16 / 9; /* Define uma proporção comum (largura/altura) */
            display: block;
            margin: 0 auto; /* Ajuste para não ter margem extra entre parágrafo e vídeo */
            background-color: #000; /* Fundo preto para o player antes do vídeo carregar */
            object-fit: cover; /* Garante que o vídeo preencha o espaço sem barras pretas */
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); /* Sombra para destacar */
            opacity: 0; /* Inicia oculto para animação de entrada */
            transform: translateY(20px);
            animation: fadeInSlideUp 1s ease-out forwards;
            animation-delay: 1s; /* Aparece depois do parágrafo */
        }
        
        /* O player de áudio será invisível */
        #background-audio-player {
            display: none; /* Mantém o player de áudio invisível */
        }

        /* Nova seção: Campo de data e botão de confirmação */
        .date-section {
            margin-top: 40px; /* Espaço entre o vídeo e esta seção */
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.5); /* Linha divisória sutil */
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            opacity: 0; /* Inicia oculto para animação de entrada */
            transform: translateY(20px);
            animation: fadeInSlideUp 1s ease-out forwards;
            animation-delay: 1.5s; /* Aparece depois do vídeo */
        }

        .date-section h3 {
            font-family: 'Pacifico', cursive;
            font-size: 1.8em;
            color: var(--button-color);
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px var(--text-shadow-color);
        }

        .date-input {
            padding: 10px 15px;
            border: 2px solid var(--pink-medium);
            border-radius: 10px;
            font-size: 1.1em;
            text-align: center;
            outline: none;
            transition: all 0.3s ease;
            background-color: rgba(255, 255, 255, 0.8);
            color: var(--text-color);
            margin-bottom: 15px;
            width: 180px; /* Largura fixa para o campo */
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
        }

        .date-input:focus {
            border-color: var(--pink-dark);
            box-shadow: 0 0 8px rgba(255, 105, 180, 0.6);
        }

        .confirm-button {
            background-color: var(--button-color);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 40px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);
        }

        .confirm-button:hover {
            background-color: var(--button-hover-color);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        #error-message {
            color: var(--error-color);
            font-size: 1em;
            margin-top: 10px;
            font-weight: bold;
            display: none; /* Inicia oculto */
        }


        /* Responsividade */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5em;
            }

            p { /* Estilo geral para p */
                font-size: 1em;
                padding: 0 10px;
            }
            p#second-screen-paragraph { /* Estilo específico para o parágrafo longo na segunda tela */
                font-size: 1em;
                padding: 0 10px;
            }

            .action-button {
                padding: 12px 25px;
                font-size: 1.1em;
            }
            .content-wrapper {
                padding: 20px;
            }
            .date-section h3 {
                font-size: 1.5em;
            }
            .date-input {
                font-size: 1em;
                width: 160px;
            }
            .confirm-button {
                padding: 10px 20px;
                font-size: 1em;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 2em;
            }

            p { /* Estilo geral para p */
                font-size: 0.9em;
            }
            p#second-screen-paragraph { /* Estilo específico para o parágrafo longo na segunda tela */
                font-size: 0.9em;
            }

            .action-button {
                padding: 10px 20px;
                font-size: 1em;
            }
            .content-wrapper {
                padding: 15px;
            }
            .date-section h3 {
                font-size: 1.3em;
            }
            .date-input {
                font-size: 0.9em;
                width: 140px;
            }
            .confirm-button {
                padding: 8px 15px;
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <div id="background-slideshow"></div>

    <div class="content-wrapper">
        <h1 id="main-title">Feliz dia dos namorados meu amor!❤️</h1>
        <p id="main-paragraph">
            Hoje é o nosso dia, mas a verdade é que todo dia ao seu lado é especial. Você me inspira, me acalma e me completa de um jeito que só o amor verdadeiro consegue fazer. Obrigado por ser minha parceira, minha melhor amiga, meu porto seguro. Que a gente continue rindo juntos, sonhando juntos, crescendo lado a lado. Te amo infinitamente, minha vida! 💖
        </p>
        <button class="action-button" id="action-button">Clique aqui</button>

        <div id="after-first-click-content">
            <p id="second-screen-paragraph">
                Hoje é o nosso dia, mas a verdade é que todo dia ao seu lado é especial. Você me inspira, me acalma e me completa de um jeito que só o amor verdadeiro consegue fazer. Obrigado por ser minha parceira, minha melhor amiga, meu porto seguro. Que a gente continue rindo juntos, sonhando juntos, crescendo lado a lado. Te amo infinitamente, minha vida! 💖
            </p>
            
            <video id="our-video-player" controls loop muted playsinline>
                <source src="WhatsApp Video 2025-06-11 at 16.24.12.mp4" type="video/mp4"> Seu navegador não suporta o elemento de vídeo.
            </video>

            <div class="date-section">
                <h3>Insira a data que mudou sua vida por completo</h3>
                <input type="password" id="date-input" class="date-input" maxlength="8" pattern="[0-9]{8}" placeholder="DDMMAAAA">
                <button class="confirm-button" id="confirm-date-button">Confirmar</button>
                <p id="error-message">Data incorreta, tente novamente.</p>
            </div>
        </div>
    </div>

    <audio id="background-audio-player" loop>
        <source src="Lady Gaga, Bruno Mars - Die With A Smile (Lyrics).mp3" type="audio/mpeg"> Seu navegador não suporta o elemento de áudio.
    </audio>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const button = document.getElementById('action-button'); // O primeiro botão
            const mainTitle = document.getElementById('main-title'); // Título principal
            const mainParagraph = document.getElementById('main-paragraph'); // Parágrafo inicial (será escondido)
            const afterFirstClickContent = document.getElementById('after-first-click-content'); // Container que aparece depois
            const backgroundSlideshow = document.getElementById('background-slideshow');
            const ourVideoPlayer = document.getElementById('our-video-player'); // Player de vídeo
            const backgroundAudioPlayer = document.getElementById('background-audio-player'); // Player de áudio
            
            // Novos elementos para a seção de data
            const dateInput = document.getElementById('date-input');
            const confirmDateButton = document.getElementById('confirm-date-button');
            const errorMessage = document.getElementById('error-message');
            const correctDate = '20052019'; // A data correta

            // --- LOCAL PARA INSERIR SUAS 6 IMAGENS ---
            const photos = [
                'WhatsApp Image 2025-06-11 at 14.57.17 (1).jpeg',
                'WhatsApp Image 2025-06-11 at 14.57.17 (2).jpeg',
                'WhatsApp Image 2025-06-11 at 14.57.17.jpeg',
                'WhatsApp Image 2025-06-11 at 14.57.18 (1).jpeg',
                'WhatsApp Image 2025-06-11 at 14.57.18 (2).jpeg',
                'WhatsApp Image 2025-06-11 at 14.57.18.jpeg'
            ];

            let currentPhotoIndex = 0;
            let slideshowInterval;
            let activeImage = null;

            // Função para iniciar o slideshow de fotos de fundo
            function startSlideshow() {
                backgroundSlideshow.style.opacity = '1';

                function showNextPhoto() {
                    const nextPhotoIndex = (currentPhotoIndex + 1) % photos.length;
                    
                    const newImage = new Image();
                    newImage.src = photos[nextPhotoIndex];

                    newImage.onload = () => {
                        if (activeImage) {
                            activeImage.classList.remove('active');
                            activeImage.addEventListener('transitionend', function handler() {
                                if (this.parentNode) {
                                    this.parentNode.removeChild(this);
                                }
                                this.removeEventListener('transitionend', handler);
                            }, { once: true });
                        }

                        newImage.classList.add('slideshow-image');
                        backgroundSlideshow.appendChild(newImage);
                        
                        void newImage.offsetWidth; 
                        newImage.classList.add('active');

                        activeImage = newImage;
                        currentPhotoIndex = nextPhotoIndex;
                    };

                    newImage.onerror = () => {
                        console.error('Falha ao carregar imagem: ' + photos[nextPhotoIndex]);
                        currentPhotoIndex = nextPhotoIndex;
                        showNextPhoto();
                    };
                }

                const initialImage = new Image();
                initialImage.src = photos[currentPhotoIndex];
                initialImage.classList.add('slideshow-image', 'active');
                backgroundSlideshow.appendChild(initialImage);
                activeImage = initialImage;

                slideshowInterval = setInterval(showNextPhoto, 5000);
            }

            // --- Gerenciamento da Música entre as páginas ---
            // NUNCA INICIA A MÚSICA AQUI. ELA SÓ SERÁ INICIADA NO EVENTO DE CLIQUE DO BOTÃO
            // OU RESUMIDA SE VIER DE OUTRA PÁGINA.
            // A lógica de localStorage para retomar a música é mantida.
            const savedPlaybackTime = localStorage.getItem('audioPlaybackTime');
            const audioWasPlaying = localStorage.getItem('audioIsPlaying') === 'true';

            if (savedPlaybackTime && audioWasPlaying) {
                backgroundAudioPlayer.currentTime = parseFloat(savedPlaybackTime);
                backgroundAudioPlayer.play().catch(error => {
                    console.error('Falha ao retomar áudio na página inicial:', error);
                });
            }


            // Evento para o botão "Clique aqui" (inicial)
            button.addEventListener('click', () => {
                // Esconde o parágrafo inicial e o botão
                button.style.opacity = '0';
                button.style.transform = 'translateY(20px)';
                button.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                mainParagraph.style.opacity = '0';
                mainParagraph.style.transform = 'translateY(-20px)';
                mainParagraph.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                
                // O TÍTULO PRINCIPAL (mainTitle) NÃO É ESCONDIDO, CONFORME SOLICITADO
                
                setTimeout(() => {
                    mainParagraph.style.display = 'none'; // Esconde o parágrafo
                    button.style.display = 'none'; // Esconde o botão

                    // Mostra o conteúdo da "segunda tela" (parágrafo longo, vídeo, e seção de data)
                    afterFirstClickContent.style.display = 'block';
                    void afterFirstClickContent.offsetWidth; // Força reflow para animação
                    afterFirstClickContent.style.opacity = '1';
                    afterFirstClickContent.style.transform = 'translateY(0)';

                    // Inicia o slideshow de fotos de fundo
                    startSlideshow();

                    // Tentar reproduzir o ÁUDIO automaticamente
                    backgroundAudioPlayer.play().catch(error => {
                        console.error('Falha ao iniciar áudio automaticamente:', error);
                    });

                    // Tentar reproduzir o VÍDEO automaticamente
                    ourVideoPlayer.play().catch(error => {
                        console.error('Falha ao iniciar vídeo automaticamente:', error);
                    });

                }, 500); // Espera 500ms para o fade out do conteúdo inicial
            });

            // Lógica para o campo de data e botão "Confirmar"
            confirmDateButton.addEventListener('click', () => {
                const enteredDate = dateInput.value;
                errorMessage.style.display = 'none'; // Esconde a mensagem de erro anterior

                // Verifica se a entrada tem exatamente 8 caracteres e se são todos números
                if (enteredDate.length === 8 && /^\d{8}$/.test(enteredDate)) {
                    if (enteredDate === correctDate) {
                        // REMOVIDO: ourVideoPlayer.pause(); // O VÍDEO NÃO DEVE PAUSAR AQUI
                        // A música já está tocando, não precisa chamar play novamente, nem pausar
                        // o áudio. Apenas salva o estado para a próxima página.
                        localStorage.setItem('audioPlaybackTime', backgroundAudioPlayer.currentTime);
                        localStorage.setItem('audioIsPlaying', 'true'); // Força como true, pois ela estava tocando

                        // Redireciona para a página final
                        window.location.href = 'eu_te_amo.html';
                    } else {
                        errorMessage.textContent = "Data incorreta, tente novamente.";
                        errorMessage.style.display = 'block'; // Mostra a mensagem de erro
                        dateInput.value = ''; // Limpa o campo
                    }
                } else {
                    errorMessage.textContent = "A data deve conter 8 números (DDMMAAAA).";
                    errorMessage.style.display = 'block';
                    dateInput.value = '';
                }
            });

            // Opcional: Adicionar listener para 'input' no campo de data para limpar erro
            dateInput.addEventListener('input', () => {
                if (errorMessage.style.display === 'block') {
                    errorMessage.style.display = 'none'; // Limpa a mensagem de erro ao começar a digitar
                }
            });
        });
    </script>
</body>
</html>